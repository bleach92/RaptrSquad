<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://unpkg.com/web-animations-js@2.3.2/web-animations.min.js"></script>
        <script src="https://unpkg.com/muuri@0.8.0/dist/muuri.min.js"></script>
        <link rel="stylesheet" href="style.css">
        
        
    </head>
    <body>
        <div class="board">
  <div class="board-column done">
    <div class="board-column-header">RMST 1</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o"><b><i>IGNACIO</i> ðŸš—</b></div></div>
        <div class="board-item"><div class="board-item-content" id="o">KIER</div> ðŸš—</div>
        <div class="board-item"><div class="board-item-content" id="n"><b>FINN</b></div></div>
        <div class="board-item"><div class="board-item-content" class="e">PHILLIPS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DAGGI</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DAVISON ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">BULAGAO</div></div>
        <div class="board-item"><div class="board-item-content" class="e">FACTOR ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">XU</div></div>
        <div class="board-item"><div class="board-item-content" class="e">BARAJAS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">TRAN</div></div>
        <div class="board-item"><div class="board-item-content" id="a">MACGREGOR</div></div>
        <div class="board-item"><div class="board-item-content" id="a">FISHER</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">RMST 2</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o"><b>PARK</b>ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="n">PENOLA</div></div>
        <div class="board-item"><div class="board-item-content" class="e">ORTIZ</div></div>
        <div class="board-item"><div class="board-item-content" class="e">CHUN</div></div>
        <div class="board-item"><div class="board-item-content" class="e">FLORES</div></div>
        <div class="board-item"><div class="board-item-content" class="e">GARCIA C</div></div>
        <div class="board-item"><div class="board-item-content" class="e">GARCIA M ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">NGUYEN H ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="a">MORALES</div></div>
        <div class="board-item"><div class="board-item-content" id="a">AGUIRRE</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">RMST 3</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o">QUIOCSON</div></div>
        <div class="board-item"><div class="board-item-content" id="n">BARRETTO ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">CAMACHO</div></div>
        <div class="board-item"><div class="board-item-content" class="e">GALLEGOS ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">CARRILLO</div></div>
        <div class="board-item"><div class="board-item-content" class="e">FRANKIE ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">KONG</div></div>
        <div class="board-item"><div class="board-item-content" id="a">ANDRADE</div></div>
        <div class="board-item"><div class="board-item-content" id="a">DIAZ</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">RMST 4</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o">HO</div></div>
        <div class="board-item"><div class="board-item-content" id="n">SALDIBAR</div></div>
        <div class="board-item"><div class="board-item-content" class="e">VISAYA ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DRYER</div></div>
        <div class="board-item"><div class="board-item-content" class="e">MARTINEZ</div></div>
        <div class="board-item"><div class="board-item-content" class="e">FERRATT</div></div>
        <div class="board-item"><div class="board-item-content" class="e">RICE</div></div>
        <div class="board-item"><div class="board-item-content" class="e">ANDERSON</div></div>
        <div class="board-item"><div class="board-item-content" class="e">GARCIA B</div></div>
        <div class="board-item"><div class="board-item-content" id="a">OROZCO</div></div>
        <div class="board-item"><div class="board-item-content" id="a">SAUNIER ðŸš—</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">RMST 5</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o">REGAN</div></div>
        <div class="board-item"><div class="board-item-content" id="n">MAGART-DAVIS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">CHAMNESS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DEMESA</div></div>
        <div class="board-item"><div class="board-item-content" class="e">EAGLES</div></div>
        <div class="board-item"><div class="board-item-content" class="e">JONES ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">PALLAYA</div></div>
        <div class="board-item"><div class="board-item-content" class="e">SIMONS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DELACRUZ ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">LINDBECK</div></div>
        <div class="board-item"><div class="board-item-content" id="a">NGUYEN ðŸš—</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">RMST 6</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o">GORNELL ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="o"><b>DEJESUS</b></div></div>
        <div class="board-item"><div class="board-item-content" id="o">CRUZ ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="n"><b>CAUDILLO</b></div></div>
        <div class="board-item"><div class="board-item-content" class="e">NGUYEN</div></div>
        <div class="board-item"><div class="board-item-content" class="e">KABIGTING</div></div>
        <div class="board-item"><div class="board-item-content" class="e">LARA</div></div>
        <div class="board-item"><div class="board-item-content" class="e">FLORIANO ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" class="e">DOMINGO</div></div>
        <div class="board-item"><div class="board-item-content" class="e">OTIKA ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="a">MAGANA</div></div>
        <div class="board-item"><div class="board-item-content" id="a">CLEMMONS ðŸš—</div></div>
    </div>
  </div>
  <div class="board-column done">
    <div class="board-column-header">TOC</div>
    <div class="board-column-content">
        <div class="board-item"><div class="board-item-content" id="o"><b>PHAL ðŸš—</b></div></div>
        <div class="board-item"><div class="board-item-content" id="o">NGUYEN ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="o">MACIAS ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="o">SPINELLI ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="o">MULLEE ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="o">BLACK</div></div>
        <div class="board-item"><div class="board-item-content" id="n"><b>SULLIVAN</b></div></div>
        <div class="board-item"><div class="board-item-content" id="n">MCENTEE ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="n">LEE</div></div>
        <div class="board-item"><div class="board-item-content" id="n">SOLIS</div></div>
        <div class="board-item"><div class="board-item-content" class="e">GARICA ðŸš—</div></div>
        <div class="board-item"><div class="board-item-content" id="n">SCHLITZ</div></div>
        <div class="board-item"><div class="board-item-content" id="n">NARVASA</div></div>
        <div class="board-item"><div class="board-item-content" class="e">JAMPHAL</div></div>
        <div class="board-item"><div class="board-item-content" class="e">SEBASTIAN</div></div>
    </div>
  </div>
</div>
        <script src="/jquery/dist/jquery.js"></script>
        <script>
            var itemContainers = [].slice.call(document.querySelectorAll('.board-column-content'));
            var columnGrids = [];
            var boardGrid;

            // Define the column grids so we can drag those
            // items around.
            itemContainers.forEach(function (container) {

              // Instantiate column grid.
              var grid = new Muuri(container, {
                items: '.board-item',
                layoutDuration: 400,
                layoutEasing: 'ease',
                dragEnabled: true,
                dragSort: function () {
                  return columnGrids;
                },
                dragSortInterval: 0,
                dragContainer: document.body,
                dragReleaseDuration: 400,
                dragReleaseEasing: 'ease'
              })
              .on('dragStart', function (item) {
                // Let's set fixed widht/height to the dragged item
                // so that it does not stretch unwillingly when
                // it's appended to the document body for the
                // duration of the drag.
                item.getElement().style.width = item.getWidth() + 'px';
                item.getElement().style.height = item.getHeight() + 'px';
              })
              .on('dragReleaseEnd', function (item) {
                console.log(grid.getItems().indexOf(item));
                var stuff = [item._id, item.getGrid(), grid.getItems().indexOf(item)]; 
                socket.emit ('itemMove', stuff);
                console.log(stuff);
                
                  
                  
                // Let's remove the fixed width/height from the
                // dragged item now that it is back in a grid
                // column and can freely adjust to it's
                // surroundings.
                item.getElement().style.width = '';
                item.getElement().style.height = '';
                // Just in case, let's refresh the dimensions of all items
                // in case dragging the item caused some other items to
                // be different size.
                columnGrids.forEach(function (grid) {
                  grid.refreshItems();
                });
              })
              .on('layoutStart', function () {
                // Let's keep the board grid up to date with the
                // dimensions changes of column grids.
                boardGrid.refreshItems().layout();
              });

              // Add the column grid reference to the column grids
              // array, so we can access it later on.
              columnGrids.push(grid);

            });

            // Instantiate the board grid so we can drag those
            // columns around.
            boardGrid = new Muuri('.board', {
              layoutDuration: 400,
              layoutEasing: 'ease',
              dragEnabled: true,
              dragSortInterval: 0,
              dragStartPredicate: {
                handle: '.board-column-header'
              },
              dragReleaseDuration: 400,
              dragReleaseEasing: 'ease'
            });
            
            boardGrid.on('dragReleaseEnd', function (item) {
                console.log(item);
            });
        </script>
    </body>
</html>